/*
 * Map_robot.cpp
 *
 *  Created on: Apr 24, 2025
 *      Author: APC
 */
int32_t get_encoder(int32_t * value,int32_t * level_count,TIM_HandleTypeDef * htim,int16_t encoder_limit){
	int16_t count_current = __HAL_TIM_GET_COUNTER(htim);

	if((*value) > encoder_limit || (*value) < - encoder_limit){
		(*level_count) += count_current;
		__HAL_TIM_SET_COUNTER(htim,0);
		count_current = 0;
	}

	(*value) = (*level_count) + count_current;

	return (*value);
}



